# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/).

## [1.0.4] - 2026-01-04

### Added
- Added `/bubblerune debug [on|off|toggle]` to enable extra diagnostics.

### Fixed
- Improved EcoEnchants enchanted-book generation by using more forgiving enchant ID lookup (namespaced keys + separator/case normalization) and better debug logging when an enchant cannot be resolved.

## [1.0.3] - 2026-01-04

### Added
- The tier items are now informational only (they still list the potential runes), and do nothing when clicked.
- Bottom-middle slot (22) is now a “Get Rune” button
- Clicking Get Rune auto-selects the highest tier you can afford (uses XP minimums and, if enabled/available, per-tier BubbleCoin costs), then performs the same roll (including the crate-style delay if enabled).
- Added default messages file: `messages.yml`
- `config.yml` now lets you select an economy provider + currency id:
economy.provider: "coinsengine" | "disabled" (or whatever your CoinsEngine currency is)

## [1.0.2] - 2025-12-30

### Added
- Rune Table GUI now lists the full potential rune pool (enchant IDs) per tier.
- Added crate-like roll UX (optional delay + message) before awarding the rune.
- Added global XP cost multiplier (`xpCost.multiplier`) to make rune rolls more grindy.

### Fixed
- PlaceholderAPI expansion is now properly registered so it appears in `papi list` and resolves placeholders.
- Registered both `%bubblerune_*%` and `%bubblerunes_*%` identifiers for compatibility.
- Prevented rare crash where XP could go negative if a player met the tier minimum but the randomized XP cost rolled above their current XP.
- BubbleCoin (CoinsEngine) integration now disables itself cleanly when API signatures don’t match, preventing spammy warnings and failed rolls.

## [1.0.1] - 2025-12-24

### Fixed
- Prevented non-rune items (e.g., renamed crate keys with hidden enchants/lore) from triggering rune reveal behavior.

### Security
- Hardened rune identification: rune actions now require an internal marker stored in the item PersistentDataContainer (PDC) instead of relying on item display name/lore.

### Changed
- Preview runes now store the hidden enchant ID in PDC (not in lore), making it non-forgeable by players.

### Compatibility notes
- Rune interactions (reveal/combining) now only work on runes generated by BubbleRune with the new marker.
  - If you have legacy runes generated before 1.0.1, they may need to be re-issued/re-rolled.

## [1.0.0] - 2025-12-24

### Added
- Initial release.
